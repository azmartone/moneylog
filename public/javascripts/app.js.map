{"version":3,"file":"public/javascripts/app.js","sources":["app/application.coffee","app/controllers/add-controller.coffee","app/controllers/base/controller.coffee","app/controllers/graph-controller.coffee","app/initialize.coffee","app/lib/utils.coffee","app/lib/view-helper.coffee","app/mediator.coffee","app/models/base/collection.coffee","app/models/base/model.coffee","app/models/categories.coffee","app/models/category.coffee","app/models/transaction.coffee","app/models/transactions.coffee","app/routes.coffee","app/views/base/collection-view.coffee","app/views/base/view.coffee","app/views/home/add-page-view.coffee","app/views/home/categories-view.coffee","app/views/home/category-view.coffee","app/views/home/graph-page-view.coffee","app/views/home/header-view.coffee","app/views/home/templates/add.hbs","app/views/home/templates/category.hbs","app/views/home/templates/graph.hbs","app/views/home/templates/header.hbs","app/views/site-view.coffee","app/views/templates/site.hbs"],"names":[],"mappings":"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","sourcesContent":["# The application object.\nmodule.exports = class Application extends Chaplin.Application\n  # start: ->\n  #   # You can fetch some data here and start app\n  #   # (by calling `super`) after that.\n  #   super\n","Controller = require 'controllers/base/controller'\nHeaderView = require 'views/home/header-view'\nAddPageView = require 'views/home/add-page-view'\nTransactions = require 'models/transactions'\n\nmodule.exports = class AddController extends Controller\n\tbeforeAction: ->\n\t\tsuper\n\n\t\t@compose 'header', HeaderView, \n\t\t\tregion: 'header'\n\n\tindex: ->\n\t\t@view = new AddPageView \n\t\t\tregion: 'main'\n\t\t\tcollection: new Transactions","SiteView = require 'views/site-view'\n\nmodule.exports = class Controller extends Chaplin.Controller\n  # Compositions persist stuff between controllers.\n  # You may also persist models etc.\n  beforeAction: ->\n    @compose 'site', SiteView\n","Controller = require 'controllers/base/controller'\nHeaderView = require 'views/home/header-view'\nGraphPageView = require 'views/home/graph-page-view'\nTransactions = require 'models/transactions'\n\nmodule.exports = class GraphController extends Controller\n\tbeforeAction: ->\n\t\tsuper\n\n\t\t@transactions = new Transactions\n\t\t@transactions.fetch()\n\n\t\t@compose 'header', HeaderView, \n\t\t\tregion: 'header'\n\n\tindex: ->\n\t\t@view = new GraphPageView \n\t\t\tregion: 'main'\n\t\t\tcollection: @transactions\n","Application = require 'application'\nroutes = require 'routes'\n\n# Initialize the application on DOM ready event.\n$ ->\n  new Application {\n    title: 'Money Log',\n    controllerSuffix: '-controller',\n    routes\n  }\n","# Application-specific utilities\n# ------------------------------\n\n# Delegate to Chaplin’s utils module.\nutils = Chaplin.utils.beget Chaplin.utils\n\n# _(utils).extend\n#  someMethod: ->\n\n# Prevent creating new properties and stuff.\nObject.seal? utils\n\nmodule.exports = utils\n","# Application-specific view helpers\n# http://handlebarsjs.com/#helpers\n# --------------------------------\n\nregister = (name, fn) ->\n  Handlebars.registerHelper name, fn\n\n# Map helpers\n# -----------\n\n# Make 'with' behave a little more mustachey.\nregister 'with', (context, options) ->\n  if not context or Handlebars.Utils.isEmpty context\n    options.inverse(this)\n  else\n    options.fn(context)\n\n# Inverse for 'with'.\nregister 'without', (context, options) ->\n  inverse = options.inverse\n  options.inverse = options.fn\n  options.fn = inverse\n  Handlebars.helpers.with.call(this, context, options)\n\n# Get Chaplin-declared named routes. {{url \"likes#show\" \"105\"}}\nregister 'url', (routeName, params..., options) ->\n  Chaplin.helpers.reverse routeName, params\n","mediator = module.exports = Chaplin.mediator\n","Model = require './model'\n\nmodule.exports = class Collection extends Chaplin.Collection\n  # Mixin a synchronization state machine.\n  # _(@prototype).extend Chaplin.SyncMachine\n  # initialize: ->\n  #   super\n  #   @on 'request', @beginSync\n  #   @on 'sync', @finishSync\n  #   @on 'error', @unsync\n\n  # Use the project base model per default, not Chaplin.Model\n  model: Model\n","# Base model.\nmodule.exports = class Model extends Chaplin.Model\n  # Mixin a synchronization state machine.\n  # _(@prototype).extend Chaplin.SyncMachine\n  # initialize: ->\n  #   super\n  #   @on 'request', @beginSync\n  #   @on 'sync', @finishSync\n  #   @on 'error', @unsync\n","Collection = require '/models/base/collection'\nCategory = require '/models/category'\n\nmodule.exports = class Categories extends Collection\n\n  url: 'test-data/categories.json'\n  model: Category\n  parse:(response)->\n  \tresponse.data\n\n","Model = require '/models/base/model'\n\nmodule.exports = class Category extends Model","Model = require '/models/base/model'\n\nmodule.exports = class Transaction extends Model\n","Collection = require '/models/base/collection'\nTransaction = require '/models/transaction'\n\nmodule.exports = class Transactions extends Collection\n\n  model: Transaction\n  localStorage: new Backbone.LocalStorage 'transactions-list'\n\n","module.exports = (match) ->\n  match '', 'add#index'\n  match 'add', 'add#index'\n  match 'graph', 'graph#index'","View = require './view'\n\nmodule.exports = class CollectionView extends Chaplin.CollectionView\n  # This class doesn’t inherit from the application-specific View class,\n  # so we need to borrow the method from the View prototype:\n  getTemplateFunction: View::getTemplateFunction\n","require 'lib/view-helper' # Just load the view helpers, no return value\n\nmodule.exports = class View extends Chaplin.View\n  # Auto-save `template` option passed to any view as `@template`.\n  optionNames: Chaplin.View::optionNames.concat ['template']\n\n  # Precompiled templates function initializer.\n  getTemplateFunction: ->\n    @template\n","CollectionView = require 'views/base/collection-view'\nCategoriesView = require 'views/home/categories-view'\nCategories = require 'models/categories'\nTransaction = require 'models/transaction'\n\nmodule.exports = class AddView extends CollectionView\n\n\tautoRender: true\n\trenderItem: false\n\tclassName: 'add-container'\n\ttemplate: require './templates/add'\n\n\trender: () ->\n\t\tsuper\n\n\tattach: () ->\n\t\tsuper\n\t\t@renderSubviews()\n\n\taddNew:()->\n\t\tconsole.log @amount\n\t\tconsole.log @amount.val()\n\t\tconsole.log @description.val()\n\t\tif @amount.val().length > 0 and @description.val().length > 0\n\t\t\tmodel = new Transaction\n\t\t\t\tamount: @amount.val()\n\t\t\t\tdescription: @description.val()\n\t\t\t\tcategory: @categoriesView.selected\n\t\t\tconsole.log 'added model', model\n\t\t\t@collection.add model\n\n\t\t\tconsole.log @collection\n\t\t\tmodel.save()\n\t\telse\n\t\t\talert 'Fill in your fields'\n\n\n\trenderSubviews: () ->\n\n\t\tamountSelector = 'input[name=amount]'\n\t\tdescriptionSelector = 'input[name=description]'\n\t\t@amount = $(amountSelector)\n\t\t@description = $(descriptionSelector)\n\n\t\t@delegate('click', 'input[type=submit]', @addNew)\n\t\t@delegate('change', amountSelector, @onAmountChange)\n\t\t@delegate('change', descriptionSelector, @onDescriptionChange)\n\n\t\tcategories = new Categories\n\n\t\t@categoriesView = new CategoriesView\n\t\t\tcollection: categories\n\t\tcategories.fetch().then => @categoriesView.render()\n\n\tonAmountChange: () ->\n\t\tconsole.log 'amount changed'\n\n\tonDescriptionChange: () ->\n\t\tconsole.log 'description changed'","CollectionView = require 'views/base/collection-view'\nCategoryView = require 'views/home/category-view'\n\nmodule.exports = class CategoriesView extends CollectionView\n\tautoRender: true\n\tclassName: 'categories'\n\titemView: CategoryView\n\ttagName: 'select'\n\tcontainer: '.category-container'\n\n\tattach:()->\n\t\t@selected = $(@el).val()\n\t\t@delegate 'change', @onChange\n\t\tsuper\n\n\tonChange:()=>\n\t\t@selected = $(@el).val()","View = require 'views/base/view'\n\nmodule.exports = class CategoryView extends View\n\tautoRender: true\n\tclassName: 'category'\n\ttemplate: require './templates/category'\n\ttagName: 'option'\n\n\tgetTemplateData: ()->\n\t\t@model.attributes","CollectionView = require 'views/base/collection-view'\n\nmodule.exports = class GraphPageView extends CollectionView\n\n\tautoRender: true\n\trenderItems: false\n\tclassName: 'transactions-container'\n\n\trender: () ->\n\t\tsuper\n\n\tattach: () ->\n\t\tsuper\n\t\t#D3 uses its own selector, so render after container is on DOM\n\t\t@renderSubviews()\n\n\trenderSubviews: () ->\n\t\tclassSelector = \".#{@$el.attr 'class'}\"\n\t\tdata = [@getTotalsByCategory()]\n\t\t@renderD3(classSelector, data)\n\n\tgetTotalsByCategory: ()->\n\t\ttransactions = @collection.models\n\t\ttotals = []\n\t\tfor transaction in transactions\n\t\t\tcategory = transaction.get 'category'\n\t\t\tcategoryExists = no\n\t\t\tfor total in totals\n\t\t\t\tif total.category is category\n\t\t\t\t\tcategoryExists = yes\n\t\t\t\t\ttotal.amount += parseFloat transaction.get 'amount'\n\t\t\t\t\tbreak\n\t\t\tif not categoryExists\n\t\t\t\ttotal =\n\t\t\t\t\tamount: parseFloat transaction.get 'amount'\n\t\t\t\t\tcategory: category\n\t\t\t\ttotals.push total\n\n\t\ttotals\n\n\trenderD3: (selector, data) ->\n\t\tcspacing = 40\n\t\tcmargin = 10\n\t\tcpadding = 5\n\t\tcwidth = 450\n\t\tcheight = 200\n\t\tmaxAmount = 450\n\t\tbarHeight = 20\n\t\tteamNameWidth = 100\n\n\t\tsvg = d3.select(selector).append(\"svg\").attr(\"class\", \"chart\").attr(\"width\", cwidth + teamNameWidth).attr(\"height\", 1000)\n\t\tleagueGroup = svg.selectAll(\"g\").data(data).enter().append(\"g\").attr(\"transform\", (d, i) ->\n\t\t\t\"translate(0,\" + ((cheight + cmargin) * i + cspacing * i) + \")\"\n\t\t)\n\n\t\tleagueBG = leagueGroup.append(\"rect\").attr(\"x\", cmargin).attr(\"y\", cmargin).attr(\"width\", cwidth + teamNameWidth).attr(\"height\", cheight - 2 * cmargin)\n\t\tleagueLabel = leagueGroup.append(\"text\").attr(\"y\", cheight + 10).attr(\"x\", cmargin).text((d) ->\n\t\t\td.key\n\t\t)\n\n\t\t#Functions for x and y\n\t\ty = d3.scale.ordinal().domain(data).rangeBands([0, cheight])\n\t\tx = d3.scale.linear().domain([0, maxAmount]).range([0, cwidth])\n\n\t\taxis = d3.svg.axis().scale(x)\n\n\t\t#Axis\n\t\tnumericAxisGroup = leagueGroup.append(\"g\").attr(\"class\", \"axis\").attr(\"transform\", \"translate(\" + teamNameWidth + \",\" + cheight + \")\").call(axis)\n\n\t\t#Team specific\n\t\tbarGroup = leagueGroup.selectAll(\"team\").data((d) ->\n\t\t\td\n\t\t).enter().append(\"g\").attr(\"transform\", (d, i) ->\n\t\t\t\"translate(\" + teamNameWidth + \",\" + (cmargin + cpadding + i * (barHeight + 1)) + \")\"\n\t\t)\n\t\tbarGroup.append(\"text\").attr(\"class\", \"title\").text((d) ->\n\t\t\td.category\n\t\t).style(\"text-anchor\", \"end\").attr \"transform\", \"translate(-6,\" + barHeight * 2 / 3 + \")\"\n\t\t\n\t\tbarGroup.append(\"rect\").attr(\"class\", \"bar\").attr(\"height\", barHeight).attr(\"width\", 0).transition().duration(1000).delay((d, i) ->\n\t\t\ti * 100\n\t\t).attr \"width\", (d) ->\n\t\t\tamount = if d.amount > 0 then d.amount else 0\n\t\t\tx amount\n","View = require 'views/base/view'\n\nmodule.exports = class HeaderView extends View\n  autoRender: true\n  className: 'header'\n  tagName: 'header'\n  template: require './templates/header'\n","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div>Log a Transaction :</div>\\n\\n<form onSubmit=\\\"return false;\\\">\\n\\n<table>\\n\t<tr>\\n\t\t<td><label for=\\\"amount\\\">Amount</label></td>\\n\t\t<td><input name=\\\"amount\\\" type=\\\"text\\\"></input></td>\\n\t</tr>\\n\t<tr>\\n\t\t<td><label for=\\\"description\\\">Description</label></td>\\n\t\t<td><input name=\\\"description\\\" type=\\\"text\\\"></input></td>\\n\t</tr>\t\\n\t<tr>\\n\t\t<td><label for=\\\"category\\\">Category</label></td>\\n\t\t<td><span class=\\\"category-container\\\"></span></td>\\n\t</tr>\\n</table>\\n\t<input type=\\\"submit\\\" value=\\\"Add\\\"/>\\n</form>\\n\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var stack1, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  if (stack1 = helpers.title) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.title; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  return escapeExpression(stack1);\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div>I am the Graph View</div>\\n\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \" <ul>\\n  <li><a class=\\\"header-link\\\" href=\\\"add\\\">Add</a></li>\\n  <li><a class=\\\"header-link\\\" href=\\\"graph\\\">Graph</a></li>\\n</ul>\\n\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","View = require 'views/base/view'\n\n# Site view is a top-level view which is bound to body.\nmodule.exports = class SiteView extends View\n  container: 'body'\n  id: 'site-container'\n  regions:\n    header: '#header-container'\n    main: '#page-container'\n  template: require './templates/site'\n","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"header-container\\\" id=\\\"header-container\\\"></div>\\n\\n<div class=\\\"outer-page-container\\\">\\n  <div class=\\\"page-container\\\" id=\\\"page-container\\\">\\n  </div>\\n</div>\\n\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}